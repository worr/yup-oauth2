<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="API documentation for the Rust `DeviceFlow` struct in crate `yup_oauth2`.">
    <meta name="keywords" content="rust, rustlang, rust-lang, DeviceFlow">

    <title>yup_oauth2::DeviceFlow - Rust</title>

    <link rel="stylesheet" type="text/css" href="../main.css">

    
    
</head>
<body class="rustdoc">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <section class="sidebar">
        
        <p class='location'><a href='index.html'>yup_oauth2</a></p><script>window.sidebarCurrent = {name: 'DeviceFlow', ty: 'struct', relpath: ''};</script><script defer src="sidebar-items.js"></script>
    </section>

    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press 'S' to search, '?' for more options..."
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content struct">
<h1 class='fqn'><span class='in-band'>Struct <a href='index.html'>yup_oauth2</a>::<wbr><a class='struct' href=''>DeviceFlow</a></span><span class='out-of-band'><span id='render-detail'>
            <a id="toggle-all-docs" href="#" title="collapse all docs">[&minus;]</a>
        </span><a id='src-47' class='srclink' href='../src/yup_oauth2/device.rs.html#33-40' title='goto source code'>[src]</a></span></h1>
<pre class='rust struct'>pub struct DeviceFlow&lt;C&gt; {
    // some fields omitted
}</pre><div class='docblock'><p>Implements the <a href="https://developers.google.com/youtube/v3/guides/authentication#devices">Oauth2 Device Flow</a>
It operates in two steps:
* obtain a code to show to the user
* (repeatedly) poll for the user to authenticate your application</p>
</div><h2 id='methods'>Methods</h2><h3 class='impl'><code>impl&lt;C&gt; <a class='struct' href='../yup_oauth2/struct.DeviceFlow.html' title='yup_oauth2::DeviceFlow'>DeviceFlow</a>&lt;C&gt; <span class='where'>where C: <a class='trait' href='http://doc.rust-lang.org/nightly/collections/borrow/trait.BorrowMut.html' title='collections::borrow::BorrowMut'>BorrowMut</a>&lt;<a class='struct' href='../hyper/client/struct.Client.html' title='hyper::client::Client'>Client</a>&gt;</span></code></h3><div class='impl-items'><h4 id='method.new' class='method'><code>fn <a href='#method.new' class='fnname'>new</a>(client: C) -&gt; <a class='struct' href='../yup_oauth2/struct.DeviceFlow.html' title='yup_oauth2::DeviceFlow'>DeviceFlow</a>&lt;C&gt;</code></h4>
<div class='docblock'>
<h1 id="examples" class='section-header'><a
                           href="#examples">Examples</a></h1><pre id='rust-example-rendered' class='rust '>
<span class='kw'>extern</span> <span class='kw'>crate</span> <span class='ident'>hyper</span>;
<span class='kw'>extern</span> <span class='kw'>crate</span> <span class='ident'>yup_oauth2</span> <span class='kw'>as</span> <span class='ident'>oauth2</span>;
<span class='kw'>use</span> <span class='ident'>oauth2</span>::<span class='ident'>DeviceFlow</span>;
 
<span class='kw'>let</span> <span class='kw-2'>mut</span> <span class='ident'>f</span> <span class='op'>=</span> <span class='ident'>DeviceFlow</span>::<span class='ident'>new</span>(<span class='ident'>hyper</span>::<span class='ident'>Client</span>::<span class='ident'>new</span>());
</pre>
</div><h4 id='method.request_code' class='method'><code>fn <a href='#method.request_code' class='fnname'>request_code</a>&lt;'b, T, I&gt;(&amp;mut self, client_id: &amp;<a href='http://doc.rust-lang.org/nightly/std/primitive.str.html'>str</a>, client_secret: &amp;<a href='http://doc.rust-lang.org/nightly/std/primitive.str.html'>str</a>, scopes: I) -&gt; <a class='enum' href='http://doc.rust-lang.org/nightly/core/result/enum.Result.html' title='core::result::Result'>Result</a>&lt;<a class='struct' href='../yup_oauth2/struct.PollInformation.html' title='yup_oauth2::PollInformation'>PollInformation</a>, RequestError&gt; <span class='where'>where T: <a class='trait' href='http://doc.rust-lang.org/nightly/core/convert/trait.AsRef.html' title='core::convert::AsRef'>AsRef</a>&lt;<a href='http://doc.rust-lang.org/nightly/std/primitive.str.html'>str</a>&gt;, I: <a class='trait' href='http://doc.rust-lang.org/nightly/core/iter/trait.IntoIterator.html' title='core::iter::IntoIterator'>IntoIterator</a>&lt;Item=&amp;'b T&gt;</span></code></h4>
<div class='docblock'><p>The first step involves asking the server for a code that the user
can type into a field at a specified URL. It is called only once, assuming
there was no connection error. Otherwise, it may be called again until 
you receive an <code>Ok</code> result.</p>

<h1 id="arguments" class='section-header'><a
                           href="#arguments">Arguments</a></h1>
<ul>
<li><code>client_id</code> &amp; <code>client_secret</code> - as obtained when <a href="https://developers.google.com/youtube/registering_an_application">registering your application</a></li>
<li><code>scopes</code> - an iterator yielding String-like objects which are URLs defining what your 
         application is able to do. It is considered good behaviour to authenticate
         only once, with all scopes you will ever require.
         However, you can also manage multiple tokens for different scopes, if your 
         application is providing distinct read-only and write modes.
# Panics</li>
<li>If called after a successful result was returned at least once.
# Examples
See test-cases in source code for a more complete example.</li>
</ul>
</div><h4 id='method.poll_token' class='method'><code>fn <a href='#method.poll_token' class='fnname'>poll_token</a>(&amp;mut self) -&gt; <a class='enum' href='http://doc.rust-lang.org/nightly/core/result/enum.Result.html' title='core::result::Result'>Result</a>&lt;<a class='enum' href='http://doc.rust-lang.org/nightly/core/option/enum.Option.html' title='core::option::Option'>Option</a>&lt;<a class='struct' href='../yup_oauth2/struct.Token.html' title='yup_oauth2::Token'>Token</a>&gt;, &amp;<a class='enum' href='../yup_oauth2/enum.PollError.html' title='yup_oauth2::PollError'>PollError</a>&gt;</code></h4>
<div class='docblock'><p>If the first call is successful, this method may be called.
As long as we are waiting for authentication, it will return <code>Ok(None)</code>.
You should call it within the interval given the previously returned 
<code>PollInformation.interval</code> field.</p>

<p>The operation was successful once you receive an Ok(Some(Token)) for the first time.
Subsequent calls will return the previous result, which may also be an error state.</p>

<p>Do not call after <code>PollError::Expired|PollError::AccessDenied</code> was among the 
<code>Err(PollError)</code> variants as the flow will not do anything anymore.
Thus in any unsuccessful case which is not <code>PollError::HttpError</code>, you will have to start /// over the entire flow, which requires a new instance of this type.</p>

<blockquote>
<p>⚠️ <strong>Warning</strong>: We assume the caller doesn&#39;t call faster than <code>interval</code> and are not
protected against this kind of mis-use.</p>
</blockquote>

<h1 id="examples" class='section-header'><a
                           href="#examples">Examples</a></h1>
<p>See test-cases in source code for a more complete example.</p>
</div></div><h2 id='implementations'>Trait Implementations</h2><h3 class='impl'><code>impl&lt;C&gt; Flow for <a class='struct' href='../yup_oauth2/struct.DeviceFlow.html' title='yup_oauth2::DeviceFlow'>DeviceFlow</a>&lt;C&gt;</code></h3><div class='impl-items'><h4 id='method.type_id' class='method'><code>fn <a href='#method.type_id' class='fnname'>type_id</a>() -&gt; <a class='enum' href='../yup_oauth2/enum.FlowType.html' title='yup_oauth2::FlowType'>FlowType</a></code></h4>
</div></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <div id="help" class="hidden">
        <div class="shortcuts">
            <h1>Keyboard shortcuts</h1>
            <dl>
                <dt>?</dt>
                <dd>Show this help dialog</dd>
                <dt>S</dt>
                <dd>Focus the search field</dd>
                <dt>&larrb;</dt>
                <dd>Move up in search results</dd>
                <dt>&rarrb;</dt>
                <dd>Move down in search results</dd>
                <dt>&#9166;</dt>
                <dd>Go to active search result</dd>
            </dl>
        </div>
        <div class="infos">
            <h1>Search tricks</h1>
            <p>
                Prefix searches with a type followed by a colon (e.g.
                <code>fn:</code>) to restrict the search to a given type.
            </p>
            <p>
                Accepted types are: <code>fn</code>, <code>mod</code>,
                <code>struct</code>, <code>enum</code>,
                <code>trait</code>, <code>typedef</code> (or
                <code>tdef</code>).
            </p>
        </div>
    </div>

    

    <script>
        window.rootPath = "../";
        window.currentCrate = "yup_oauth2";
        window.playgroundUrl = "";
    </script>
    <script src="../jquery.js"></script>
    <script src="../main.js"></script>
    
    <script async src="../search-index.js"></script>
</body>
</html>